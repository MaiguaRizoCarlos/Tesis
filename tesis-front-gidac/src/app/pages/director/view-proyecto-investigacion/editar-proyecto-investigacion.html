<mat-list class="estilo-mat-list" style="padding: 0; margin-bottom: 15px; ">
  <mat-list-item class="estilo-mat-item" style="color: black;">

    <div mat-line style="padding-right: 20px;">Actualizar proyecto de investigación</div>
    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
      <button mat-icon-button mat-dialog-close matTooltip="White" color="White"
        aria-label="Example icon-button with a heart icon">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </mat-list-item>
</mat-list>
<mat-divider></mat-divider>

<mat-dialog-content>
  <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center">
    <mat-tab label="Información general">
      <mat-card>
        <mat-form-field class="w100" appearance="outline">
          <mat-label>Nombre del proyecto</mat-label>
          <textarea type="text" name="nombre" matInput placeholder="Ingrese un nombre del proyecto" rows="2"
            [(ngModel)]="data.nombreProyecto">
          </textarea>
        </mat-form-field>

        <mat-form-field class="w100" appearance="outline">
          <mat-label>Descripción</mat-label>
          <textarea name="descripcion" matInput placeholder="Digite la descripción" rows="10"
            [(ngModel)]="data.descripcion">
                    </textarea>
        </mat-form-field>

        <div class="row">
          <div class="col-md-6">
            <mat-form-field class="w100">
              <mat-label>Fecha de inicio</mat-label>
              <input type="date" matInput name="fechaInicio" placeholder="Ingrese la fecha de inicio"
                [(ngModel)]="data.fechaInicio">
            </mat-form-field>
          </div>

          <div class="col-md-6">
            <mat-form-field class="w100">
              <mat-label>Fecha de fin</mat-label>
              <input type="date" matInput name="fechaFin" placeholder="Ingrese la fecha de fin"
                [(ngModel)]="data.fechaFin">
            </mat-form-field>
          </div>

        </div>

        <mat-form-field appearance="fill" class="mt20 w100">
          <mat-label>Estado del proyecto</mat-label>
          <mat-select name="estadoProyectoInvestigacion"
            [(ngModel)]="data.estadoProyectoInvestigacion.idEstadoProyecto">
            <mat-option *ngFor="let c of estadoProyectoInvestigacion" [value]="c.idEstadoProyecto">
              {{ c.nombreEstadoProyecto }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="mt20 w100">
          <mat-label>Tipo proyecto</mat-label>
          <mat-select name="tipoProyecto" [(ngModel)]="data.tipoProyecto.idTipoProyecto">
            <mat-option *ngFor="let c of listaTipoProyecto" [value]="c.idTipoProyecto">
              {{ c.nombreTipoProyecto }}
            </mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="fill" class="mt20 w100">
          <mat-label>Tipo investigación </mat-label>
          <mat-select name="tipoInvestigacion" [(ngModel)]="data.tipoInvestigacion.idTipoInvestigacion">
            <mat-option *ngFor="let c of listaTipoInvestigacion" [value]="c.idTipoInvestigacion">
              {{ c.nombreTipoInvestigacion }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <br><br>
        <div class="center" style="text-align: center;">
          <button mat-raised-button color="primary" (click)="actualizarProyecto()">Actualizar información
            general</button>
        </div>
      </mat-card>

    </mat-tab>
    <mat-tab label="Información adicional">
      <mat-card>

        <!------------------------------------------------------------->

        <mat-card-title style="font-size: 15px;">Áreas de investigación</mat-card-title>
        <table mat-table [dataSource]="dataSource1" class="mat-elevation-z8">

          <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? toggleAllRows1() : null"
                [checked]="selection1.hasValue() && isAllSelected1()"
                [indeterminate]="selection1.hasValue() && !isAllSelected1()" [aria-label]="checkboxLabel1()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? toggleRow1(row) : null"
                [checked]="selection1.isSelected(row)" [aria-label]="checkboxLabel1(row)">
              </mat-checkbox>
            </td>
          </ng-container>


          <ng-container matColumnDef="nombreAreaInvestigacion">
            <th mat-header-cell *matHeaderCellDef>Área investigación</th>
            <td mat-cell *matCellDef="let element"> {{ element.nombreAreaInvestigacion }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns1"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns1;" (click)="toggleRow1(row)">
          </tr>
        </table>
        <!------------------------------------------------------------>
        <!------------------------------------------------------------->
        <br>
        <mat-card-title style="font-size: 15px;">Líneas de investigación</mat-card-title>
        <table mat-table [dataSource]="dataSource3" class="mat-elevation-z8">

          <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? toggleAllRows3() : null"
                [checked]="selection3.hasValue() && isAllSelected3()"
                [indeterminate]="selection3.hasValue() && !isAllSelected3()" [aria-label]="checkboxLabel3()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? toggleRow3(row) : null"
                [checked]="selection3.isSelected(row)" [aria-label]="checkboxLabel3(row)">
              </mat-checkbox>
            </td>
          </ng-container>


          <ng-container matColumnDef="nombreLineaInvestigacion">
            <th mat-header-cell *matHeaderCellDef>Línea de investigación</th>
            <td mat-cell *matCellDef="let element"> {{ element.nombreLineaInvestigacion }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns3"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns3;" (click)="toggleRow3(row)">
          </tr>
        </table>
        <!------------------------------------------------------------>
        <!------------------------------------------------------------->
        <br>
        <mat-card-title style="font-size: 15px;">Sector de impacto</mat-card-title>
        <table mat-table [dataSource]="dataSource2" class="mat-elevation-z8">

          <!-- Checkbox Column -->
          <ng-container matColumnDef="select">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox (change)="$event ? toggleAllRows2() : null"
                [checked]="selection2.hasValue() && isAllSelected2()"
                [indeterminate]="selection2.hasValue() && !isAllSelected2()" [aria-label]="checkboxLabel2()">
              </mat-checkbox>
            </th>
            <td mat-cell *matCellDef="let row">
              <mat-checkbox (click)="$event.stopPropagation()" (change)="$event ? toggleRow2(row) : null"
                [checked]="selection2.isSelected(row)" [aria-label]="checkboxLabel2(row)">
              </mat-checkbox>
            </td>
          </ng-container>


          <ng-container matColumnDef="nombreSectorImpacto">
            <th mat-header-cell *matHeaderCellDef>Sector de impacto</th>
            <td mat-cell *matCellDef="let element"> {{ element.nombreSectorImpacto }} </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns2"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns2;" (click)="toggleRow2(row)">
          </tr>
        </table>
        <!------------------------------------------------------------>

        <br><br>
        <div class="center" style="text-align: center;">
          <button mat-raised-button color="primary" (click)="actualizarInformacionAdicional()">Actualizar información
            adicional</button>
        </div>
      </mat-card>
    </mat-tab>

    <mat-tab label="Localización">
      <mat-card>

        <mat-tab-group mat-stretch-tabs="false" mat-align-tabs="center" style="max-width: 500px;">
          <mat-tab label="Agregar">

            <mat-card>

              <mat-form-field appearance="fill" class="mt20 w100">
                <mat-label>País</mat-label>
                <mat-select name="pais" [(ngModel)]="paisSeleccionado" (selectionChange)="listarProvincias()">
                  <mat-option *ngFor="let c of listaPaises" [value]="c">
                    {{ c.nombrePais }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="fill" class="mt20 w100">
                <mat-label>Provincia</mat-label>
                <mat-select name="Provincia" [(ngModel)]="provinciaSeleccionado" (selectionChange)="listarCantones()">
                  <mat-option *ngFor="let c of listaProvincias" [value]="c">
                    {{ c.nombreProvincia }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="fill" class="mt20 w100">
                <mat-label>Cantón</mat-label>
                <mat-select name="Canton" [(ngModel)]="cantonSeleccionado" (selectionChange)="listarParroquias()">
                  <mat-option *ngFor="let c of listaCantones" [value]="c">
                    {{ c.nombreCanton }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <mat-form-field appearance="fill" class="mt20 w100">
                <mat-label>Parroquia</mat-label>
                <mat-select name="Parroquia" [(ngModel)]="parroquiaSeleccionado">
                  <mat-option *ngFor="let c of listaParroquias" [value]="c">
                    {{ c.nombreParroquia }}
                  </mat-option>
                </mat-select>
              </mat-form-field>

              <div class="container text-center mt15">
                <button mat-raised-button color="primary" (click)="agregarLocalizacion()">Agregar localización</button>
              </div>
            </mat-card>

          </mat-tab>

          <mat-tab label="Quitar">
            <mat-list class="box mt-3 mb-3">
              <mat-list-item *ngFor="let oC of listalocalizacion; let i = index">
                <mat-icon mat-list-icon>streetview</mat-icon>
                <div mat-line><mat-card-title
                    style="font-size: 14px; margin-bottom: 0; padding-bottom: 0; padding-bottom: 0;">PAÍS:
                    {{oC.nombrePais }}</mat-card-title></div>
                <div mat-line><mat-card-title
                    style="font-size: 14px; margin-bottom: 0; padding-bottom: 0; padding-bottom: 0;">PROVINCIA:
                    {{oC.nombreProvincia }}</mat-card-title></div>
                <div mat-line><mat-card-title
                    style="font-size: 14px; margin-bottom: 0; padding-bottom: 0; padding-bottom: 0;">CANTÓN:
                    {{oC.nombreCanton }}</mat-card-title></div>
                <div mat-line><mat-card-title
                    style="font-size: 14px; margin-bottom: 0; padding-bottom: 0; padding-bottom: 0;">PARROQUIA:
                    {{oC.nombreParroquia }}</mat-card-title></div>
                <div class="btn-group" role="group" aria-label="Basic mixed styles example">

                  <button mat-icon-button matTooltip="Warn" color="warn"
                    aria-label="Example icon-button with a heart icon"
                    (click)="eliminarLocalizacionProyecto(oC.idLocalizacion)">
                    <mat-icon>delete</mat-icon>
                  </button>

                </div>
                <mat-divider></mat-divider>

              </mat-list-item>
            </mat-list>

          </mat-tab>
        </mat-tab-group>

      </mat-card>
    </mat-tab>

  </mat-tab-group>

</mat-dialog-content>