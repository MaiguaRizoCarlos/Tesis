
<mat-list class="estilo-mat-list" style="padding: 0; margin-bottom: 15px; ">
  <mat-list-item class="estilo-mat-item" style="color: black;">
    
    <div mat-line style="padding-right: 20px;">Agregar dato recolectado</div>
    <div class="btn-group" role="group" aria-label="Basic mixed styles example">
      <button  mat-icon-button mat-dialog-close
        matTooltip="White" color="White" aria-label="Example icon-button with a heart icon">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </mat-list-item>
</mat-list>
<mat-divider></mat-divider>

<form (ngSubmit)= "agregar()" style="max-width: 400px;">
    <div class="box mt-3 mb-3">
      

      <mat-form-field class="w100" appearance="outline">
        <mat-label>Fecha de salida de campo</mat-label>
        <input
        type="date"
        matInput
        name="fechaInicio"
        placeholder="Ingrese la fecha de salida de campo"
        [(ngModel)] = "data.dataset.fechaSalidaCampo">
      </mat-form-field>

      <mat-form-field class="w100" appearance="outline">
        <mat-label>Valor del dato recolectado</mat-label>
        <input
        type="text"
        name="valor"
        matInput
        placeholder="Ingrese el valor del dato recolectado"
        [(ngModel)] = "data.valor"
        >
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt20 w100">
        <mat-label>Variable del sistema</mat-label>
        <mat-select name="medida" [(ngModel)] = "data.variableUnidadMedida.idVariableUnidadMedida" >
          <mat-option *ngFor = "let c of variableUnidadMedida" [value] = "c.idVariableUnidadMedida" (click)="seleccionarVariable(c.variable.tipoVariable.idTipoVariable)">
            {{ c.variable.nombreVariable }} - {{ c.unidadMedida.abreviatura }} 
          </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field appearance="fill" class="mt20 w100">
        <mat-label>Datasets</mat-label>
        <mat-select name="datasets" [(ngModel)]="data.dataset.codigoDataset" (selectionChange)="onDatasetSelectionChange()">
          <ng-container *ngFor="let c of listaDatosDataset">
            <mat-option [value]="c.codigoDataset">
              {{ c.codigoDataset !== 0 ? 'Dataset ' + c.codigoDataset +' - ' : '' }} {{ c.fechaInicioDataset }} {{ c.codigoDataset !== 0 ? ' al ' : '' }} {{ c.fechaFinDataset }}
            </mat-option>
          </ng-container>
        </mat-select>
      </mat-form-field>
        
      <div class="center" style="text-align: center;">
        <button mat-raised-button color="primary">Agregar</button>
      </div>
    </div>
</form>